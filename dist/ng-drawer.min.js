/*! ng-drawer 2015-08-15 */
"use strict";angular.module("ngDrawer",[]).provider("ngDrawer",function(){var a={snappingFunctions:{}};this.config=function(b){return angular.extend(a,b),this},this.addSnappingFunction=function(b,c){return a.snappingFunctions[b]=c,this},this.$get=function(){return a},this.addSnappingFunction("default",function(a,b){var c=0;return c=Math.abs(a)>=10?a>0?1:-1:b>.5?1:-1,(Math.abs(a)+4)*c})}).directive("ngDrawer",["$document","$interval","ngDrawer",function(a,b,c){return{transclude:!0,scope:!0,restrict:"EA",link:function(d,e,f,g,h){function i(){s[0].scrollLeft=v?0:s[0].scrollWidth}function j(){h(d,function(a){t.append(a),s.append(t)}),s.css({"overflow-x":"scroll","overflow-y":"hidden",display:"block",position:"relative",direction:"ltr"}),t.css("overflow-x","scroll"),u=t[0].scrollWidth,t.css({position:"relative",width:u+"px","overflow-x":"hidden","overflow-y":"hidden",direction:v?"ltr":"rtl"}),i(),e.on("mousedown touchstart",m)}function k(a){return 0==a||0==w?0:a/w}function l(a,b){return c.snappingFunctions["default"].apply(e,[a,b])}function m(){return d.snapped=!1,a.find("body").eq(0).one("mouseup touchend",n),d.drawn?null:(d.drawn=!0,e.triggerHandler("draw"),x=s[0].offsetWidth,w=r.boundry_obj[0].offsetWidth-x,s.css("width",r.boundry_obj[0].offsetWidth+"px"),t.css("width",r.boundry_obj[0].offsetWidth+"px").css("border-"+y+"-width",w+"px").css("border-"+y+"-style","solid").css("border-"+y+"-color","transparent"),i(),e.addClass("drawn"),void d.$digest())}function n(){function a(){var a=s[0].scrollLeft-c,h=l(a,f);c=s[0].scrollLeft,s[0].scrollLeft+=h,-1!=[0,1].indexOf(f)&&0==a&&(b.cancel(g),0==f?o():d.snapped=e.triggerHandler("snap"))}var c=s[0].scrollLeft,f=d.getDistance(),g=b(a,15,!1)}function o(){d.drawn=!1,e.removeClass("drawn"),e.triggerHandler("tuck"),s.css("width",""),t.css("width",u+"px").css("border-"+y+"-width","0px").css("border-"+y+"-style","none").css("border-"+y+"-color","transparent"),i()}d.drawn=!1,d.snapped=!1;var p={boundry_obj:a.find("body").eq(0),drawFrom:"right"},q=d.$eval(f.ngDrawer)||f.ngDrawer,r={};"string"==typeof q?r.drawFrom="left"==q?"left":"right":r=q,r=angular.extend(p,r);var s=e,t=angular.element("<div></div>"),u=void 0,v="right"==r.drawFrom,w=0,u=void 0,x=void 0,y=v?"left":"right";d.getDistance=function(){return v?k(s[0].scrollLeft):1-k(s[0].scrollLeft)},j()},controller:function(){}}}]).directive("ngDraw",["ngDrawer",function(a){return{restrict:"A",require:"ngDrawer",link:function(a,b,c){b.on("draw",function(b){console.dir(b),a.$eval(c.ngDraw,{$event:b})})}}}]).directive("ngSnap",["ngDrawer",function(a){return{restrict:"A",require:"ngDrawer",link:function(a,b,c){b.on("snap",function(b){a.$eval(c.ngSnap,{$event:b})})}}}]);