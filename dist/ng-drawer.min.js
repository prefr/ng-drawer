/*! ng-drawer 2015-08-05 */
angular.module("ngDrawer",[]).provider("ngDrawer",function(){var a={snappingFunctions:{}};this.config=function(b){return angular.extend(a,b),this},this.addSnappingFunction=function(b,c){return a.snappingFunctions[b]=c,this},this.$get=function(){return a},this.addSnappingFunction("default",function(a,b,c){var d=0;return d=Math.abs(a)>=10?a>0?1:-1:b>.5?1:-1,(Math.abs(a)+4)*d})}).directive("ngDrawer",["$document","$interval","ngDrawer",function(a,b,c){return{transclude:!0,scope:!0,link:function(d,e,f,g,h){function i(a){return 0==a||0==q?0:a/q}function j(a,b,d){return c.snappingFunctions["default"](a,b,d)}function k(){function b(a,c){var d=a[0].offsetParent?angular.element(a[0].offsetParent):null;return console.log(a[0],a[0].offsetLeft),d&&d!=c[0]?a[0].offsetLeft+b(d,c):0}d.drawn||(d.drawn=!0,q=b(o,n),tucked_width=o[0].offsetWidth,console.log(q),o.css({"padding-left":q+"px",width:"auto"}),p.css({"border-right-width":q+tucked_width+"px"}),e.addClass("drawn")),a.find("body").eq(0).one("mouseup touchend",l)}function l(){function a(){var a=o[0].scrollLeft,f=a-c,g=void 0==g?d.getDistance():g,h=j(f,g);c=o[0].scrollLeft,o[0].scrollLeft+=h,-1!=[0,1].indexOf(g)&&0==f&&(b.cancel(e),0==g&&m())}var c=o[0].scrollLeft,e=b(a,15,!1)}function m(){d.drawn=!1,e.removeClass("drawn"),o.css({"padding-left":"",width:""}),p.css({"border-right-width":"0"})}d.drawn=!1;var n=a.find("body").eq(0),o=e,p=angular.element("<div></div>"),q=0;h(function(a){p.append(a),e.append(p)}),o.css({"overflow-x":"scroll","overflow-y":"hidden"}),p.css({position:"relative","border-right-style":"solid","border-right-color":"transparent",width:"0"}),d.getDistance=function(){return i(o[0].scrollLeft)},e.on("mousedown touchstart",k),d.$on("$destroy",function(){a.find("body").eq(0).off("mouseup touchend",l)})}}}]);