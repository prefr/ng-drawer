/*! ng-drawer 2015-08-17 */
"use strict";angular.module("ngDrawer",[]).provider("ngDrawer",function(){var a={snappingFunctions:{}};this.config=function(b){return angular.extend(a,b),this},this.addSnappingFunction=function(b,c){return a.snappingFunctions[b]=c,this},this.$get=function(){return a},this.addSnappingFunction("default",function(a,b){var c=0;return c=Math.abs(a)>=10?a>0?1:-1:b>.5?1:-1,(Math.abs(a)+4)*c})}).directive("ngDrawer",["$document","$interval","ngDrawer",function(a,b,c){return{transclude:!0,scope:!0,restrict:"EA",link:function(d,e,f,g,h){function i(){r[0].scrollLeft=u?0:r[0].scrollWidth}function j(){h(d,function(a){s.append(a),r.append(s)}),r.css({"overflow-x":"scroll","overflow-y":"hidden",display:"block",position:"relative",direction:"ltr"}),s.css("overflow-x","scroll"),t=s[0].scrollWidth,s.css({position:"relative",width:t+"px","overflow-x":"hidden","overflow-y":"hidden",direction:u?"ltr":"rtl"}),i(),e.on("mousedown touchstart",l)}function k(a,b){return c.snappingFunctions["default"].apply(e,[a,b])}function l(){return d.snapped=!1,a.find("body").eq(0).one("mouseup touchend",m),d.drawn?null:(d.drawn=!0,e.triggerHandler("draw"),d.$emit("draw"),w=r[0].offsetWidth,v=q.boundryObj[0].offsetWidth-w,r.css("width",q.boundryObj[0].offsetWidth+"px"),s.css("width",q.boundryObj[0].offsetWidth+"px").css("border-"+x+"-width",v+"px").css("border-"+x+"-style","solid").css("border-"+x+"-color","transparent"),i(),e.addClass("drawn"),void d.$digest())}function m(){function a(){var a=r[0].scrollLeft-c,g=u?a:-a,h=d.getDistance(),i=k(g,h),j=u?i:-i;c=r[0].scrollLeft,r[0].scrollLeft+=j,-1!=[0,1].indexOf(h)&&0==a&&(b.cancel(f),0==h?n():(e.triggerHandler("snap"),d.snapped=!0,d.$emit("snap"),console.log("snap")))}var c=r[0].scrollLeft,f=(d.getDistance(),b(a,15,!1))}function n(){e.removeClass("drawn"),e.triggerHandler("tuck"),d.$evalAsync(function(){d.drawn=!1,d.$emit("tuck")}),r.css("width",""),s.css("width",t+"px").css("border-"+x+"-width","0px").css("border-"+x+"-style","none").css("border-"+x+"-color","transparent"),i()}d.drawn=!1,d.snapped=!1;var o={boundryObj:a.find("body").eq(0),drawFrom:"right"},p=d.$eval(f.ngDrawer)||f.ngDrawer,q={};"string"==typeof p?q.drawFrom="left"==p?"left":"right":q=p,q=angular.extend(o,q);var r=e,s=angular.element("<div></div>"),t=void 0,u="right"==q.drawFrom,v=0,t=void 0,w=void 0,x=u?"left":"right";d.getDistance=function(){var a=e[0].scrollWidth-e[0].clientWidth,b=a?e[0].scrollLeft/a:0;return u?b:1-b},j()},controller:function(){}}}]).directive("ngDraw",[function(){return{restrict:"A",require:"ngDrawer",link:function(a,b,c){b.on("draw",function(b){a.$eval(c.ngDraw,{$event:b})})}}}]).directive("ngSnap",[function(){return{restrict:"A",require:"ngDrawer",link:function(a,b,c){b.on("snap",function(b){a.$eval(c.ngSnap,{$event:b})})}}}]).directive("ngTuck",[function(){return{restrict:"A",require:"ngDrawer",link:function(a,b,c){b.on("tuck",function(b){a.$eval(c.ngTuck,{$event:b})})}}}]);